# A0113761M
###### W10-4J\test\ColorsForSettingsTest.java
``` java
 */
package test;

import static org.junit.Assert.*;

import java.awt.Color;

import org.junit.Test;

import UserInterface.ColorsForSettings;

public class ColorsForSettingsTest {
	private static String color1 = "button r:192, g:223, b:217 topBg r:233, g:236, b:229 bottomBg r:179, g:194, b:191";
	private static ColorsForSettings colors = new ColorsForSettings();
	
	private static String getButtonColor = colors.getButton(color1);
	private static String getTopBgColor = colors.getTopBg(color1);
	private static String getBottomBgColor = colors.getBottomBg(color1);
	
	@Test
	public void testGetButtonRed(){
		assertEquals(colors.getRed(getButtonColor), 192);
	}

	@Test
	public void testGetButtonGreen(){
		assertEquals(colors.getGreen(getButtonColor), 223);
	}

	@Test
	public void testGetButtonBlue(){
		assertEquals(colors.getBlue(getButtonColor), 217);
	}

	@Test
	public void testRgbColorButton(){
		assertEquals(colors.rgbColor(getButtonColor), new Color(192, 223, 217));
	}
	
	@Test
	public void testGetTopBgRed(){
		assertEquals(colors.getRed(getTopBgColor), 233);
	}

	@Test
	public void testGetTopBgGreen(){
		assertEquals(colors.getGreen(getTopBgColor), 236);
	}

	@Test
	public void testGetTopBgBlue(){
		assertEquals(colors.getBlue(getTopBgColor), 229);
	}

	@Test
	public void testRgbColorTopBg(){
		assertEquals(colors.rgbColor(getTopBgColor), new Color(233, 236, 229));
	}
	
	@Test
	public void testGetBottomBgRed(){
		assertEquals(colors.getRed(getBottomBgColor), 179);
	}

	@Test
	public void testGetBottomBgGreen(){
		assertEquals(colors.getGreen(getBottomBgColor), 194);
	}

	@Test
	public void testGetBottomBgBlue(){
		assertEquals(colors.getBlue(getBottomBgColor), 191);
	}

	@Test
	public void testRgbColorBottomBg(){
		assertEquals(colors.rgbColor(getBottomBgColor), new Color(179, 194, 191));
	}
}
```
###### W10-4J\test\UIControllerTest.java
``` java
 */
package test;

import static org.junit.Assert.*;
import org.junit.Test;

import UserInterface.UIController;

public class UIControllerTest {
	@Test
	public void testIsDisplay(){
		String displayString = "0This is display";
		String nonDisplayString = "1This is not display";
		String falseDisplayString = "This is a false display string. Return false.";
		
		assertTrue(UIController.isDisplay(displayString));
		assertFalse(UIController.isDisplay(nonDisplayString));
		assertFalse(UIController.isDisplay(falseDisplayString));
	}
	
	public void testIsPageUpTrue(){
		int notTrueValue = -1;
		int trueValue = 1;
		
		/* When using PgUp, the minimum scroll is 0. Therefore, pageUpTrue returns true only if the integer passed in is >= 0.*/
		assertTrue(UIController.pageUpTrue(trueValue));
		assertFalse(UIController.pageUpTrue(notTrueValue));
	}
}
```
###### W10-4J\UserInterface\ReadWriteXml.java
``` java
 */
package UserInterface;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Properties;

public class ReadWriteXml {
	private int colorOptionIndex = 0;
	private int topFontColorIndex = 1;
	private int topBgIndex = 2;
	private int bottomBgIndex = 3;
	private int bottomFontColorIndex = 4;
	private int fontSizeIndex = 5;
	private int fontFamilyIndex = 6;
	private int buttonsColorIndex = 7;
	
	public String read(String action, String fileName){
		try{
			File file = new File(fileName);
			FileInputStream fileInput = new FileInputStream(file);
			Properties prop = new Properties();
			prop.loadFromXML(fileInput);
			fileInput.close();
			String details = prop.getProperty(action);
			if (details.equals("")){
				return null;
			} else {
				return details; 
			}
		} catch (FileNotFoundException e){
			return null;
		} catch(IOException e){
			e.printStackTrace();
			return null;
		}
	}
	
	public ArrayList<String> readToArrayList(){
		String fileName = ".\\properties.xml";
		ArrayList<String> properties = new ArrayList<String>();
		String colorOption = read("colorOption", fileName);
		String topFontColor = read("topFontColor", fileName);
		String bottomFontColor = read("bottomFontColor", fileName);
		String topBg = read("topBg", fileName);
		String bottomBg = read("bottomBg", fileName);
		String fontSize = read("fontSize", fileName);
		String fontFamily = read("fontFamily", fileName);
		String buttonsColor = read("buttonsColor", fileName);
		properties.add(colorOptionIndex, colorOption);
		properties.add(topFontColorIndex, topFontColor);
		properties.add(topBgIndex, topBg);
		properties.add(bottomBgIndex, bottomBg);
		properties.add(bottomFontColorIndex, bottomFontColor);
		properties.add(fontSizeIndex, fontSize);
		properties.add(fontFamilyIndex, fontFamily);
		properties.add(buttonsColorIndex, buttonsColor);
		return properties;
	}
	
	public void setProperties(ArrayList<String> prop){
		Properties properties = new Properties();
		properties.setProperty("colorOption", prop.get(colorOptionIndex));
		properties.setProperty("topBg", prop.get(topBgIndex));
		properties.setProperty("bottomBg", prop.get(bottomBgIndex));
		properties.setProperty("topFontColor", prop.get(topFontColorIndex));
		properties.setProperty("bottomFontColor", prop.get(bottomFontColorIndex));
		properties.setProperty("fontSize", prop.get(fontSizeIndex));
		properties.setProperty("fontFamily", prop.get(fontFamilyIndex));
		properties.setProperty("buttonsColor", prop.get(buttonsColorIndex));
		
		File file = new File(".\\properties.xml");
		try {
			FileOutputStream fileOut = new FileOutputStream(file);
			properties.storeToXML(fileOut, "colors");
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
}
```
###### W10-4J\UserInterface\SettingsUI.java
``` java
 */
package UserInterface;

import java.awt.Button;
import java.awt.GraphicsEnvironment;
import java.util.ArrayList;

import javax.swing.ButtonGroup;
import javax.swing.DefaultComboBoxModel;
import javax.swing.JTextPane;
import javax.swing.LayoutStyle;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;
import javax.swing.JRadioButton;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.JPanel;
import javax.swing.GroupLayout;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;

public class SettingsUI {
	private static String fileName = ".\\properties.xml";
	
	private static ColorsForSettings colors = new ColorsForSettings();
	
	static JFrame f = new JFrame("Settings");
    JPanel jPanel3 = new JPanel();
    JRadioButton defaultRadioButton = new JRadioButton();
    JRadioButton seaRadioButton = new JRadioButton();
    JRadioButton sunsetRadioButton = new JRadioButton();
    JRadioButton dawnRadioButton = new JRadioButton();
    JRadioButton natureRadioButton = new JRadioButton();
    JTextPane textPane1 = new JTextPane();
    JTextPane textPane2 = new JTextPane();
    JScrollPane jScrollPane1 = new JScrollPane();
    JScrollPane jScrollPane2 = new JScrollPane();
    Button cancelButton = new Button();
    JComboBox<String> fontSizeBox = new JComboBox<String>();
    JComboBox<String> fontFamilyBox = new JComboBox<String>();
    JLabel jLabel1 = new JLabel();
    JLabel jLabel2 = new JLabel();
    Button saveButton = new Button();
    ReadWriteXml prop = new ReadWriteXml();
    
    ArrayList<String> properties = prop.readToArrayList();
	
    public SettingsUI(JTextPane outputDisplay, JTextArea cmdDisplay, JLabel commandText, JTextField cmdEntry, JButton home, JButton overdue, JButton all, JButton done, JButton help,
			JButton settings) {
        initComponents(outputDisplay, cmdDisplay, commandText, cmdEntry, home, overdue, all, done, help, settings);
    }
    private void initComponents(JTextPane outputDisplay, JTextArea cmdDisplay, JLabel commandText, JTextField cmdEntry, JButton home, JButton overdue, JButton all, JButton done, JButton help, JButton settings) {
        jScrollPane1.setViewportView(textPane1);
        jScrollPane2.setViewportView(textPane2);
        
        setIcon();
        fontSizeBoxSettings();
        fontFamilyBoxSettings();
        jLabelSettings();
        cancelAndSaveButtonSettings();
        ButtonGroup button = radioButtonsSettings();
        
        radioButtonSelectionAndDisplayExample(button);
        
        setLayoutForSettingsUI();

        SettingsUIController controller = new SettingsUIController();
        controller.action(f, defaultRadioButton, seaRadioButton, sunsetRadioButton, dawnRadioButton, natureRadioButton, textPane1, textPane2, saveButton, cancelButton, properties, outputDisplay, cmdDisplay, fontSizeBox, fontFamilyBox, commandText, cmdEntry, home, overdue, all, done, help, settings);

		lookAndFeel();
		
        f.pack();
        f.setVisible(true);
    }

	private void setLayoutForSettingsUI() {
		GroupLayout jPanel3Layout = new GroupLayout(jPanel3);
		jPanel3.setLayout(jPanel3Layout);
		panelHorizontalLayout(jPanel3Layout);
        panelVerticalLayout(jPanel3Layout);

        GroupLayout layout = new GroupLayout(f.getContentPane());
        f.getContentPane().setLayout(layout);
        horizontalLayout(layout);
        verticalLayout(layout);
	}

	private void verticalLayout(GroupLayout layout) {
		layout.setVerticalGroup(
            layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addComponent(jPanel3, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jScrollPane1, GroupLayout.PREFERRED_SIZE, 83, GroupLayout.PREFERRED_SIZE)
                .addComponent(jScrollPane2, GroupLayout.PREFERRED_SIZE, 83, GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
                    .addComponent(saveButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                    .addComponent(cancelButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)))
        );
	}

	private void horizontalLayout(GroupLayout layout) {
		layout.setHorizontalGroup(
            layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addComponent(jPanel3, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
                    .addComponent(jScrollPane1, GroupLayout.DEFAULT_SIZE, 147, Short.MAX_VALUE)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(saveButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                        .addGap(1, 1, 1)
                        .addComponent(cancelButton, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                    .addComponent(jScrollPane2)))
        );
	}

	private void panelVerticalLayout(GroupLayout jPanel3Layout) {
		jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(defaultRadioButton)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(seaRadioButton)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(sunsetRadioButton)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(dawnRadioButton)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(natureRadioButton)
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel1)
                        .addComponent(fontSizeBox, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel2)
                        .addComponent(fontFamilyBox, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
                .addContainerGap(21, Short.MAX_VALUE))
        );
	}

	private void panelHorizontalLayout(GroupLayout jPanel3Layout) {
		jPanel3Layout.setHorizontalGroup(
				jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
						.addGroup(jPanel3Layout.createSequentialGroup()
			                    .addContainerGap()
								.addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
										.addComponent(defaultRadioButton)
										.addComponent(seaRadioButton)
										.addComponent(sunsetRadioButton)
										.addComponent(dawnRadioButton)
										.addComponent(natureRadioButton))
	                            .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
				.addGroup(jPanel3Layout.createSequentialGroup()
	                    .addContainerGap()
						.addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
								.addComponent(jLabel1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
								.addComponent(jLabel2, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
						.addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
						.addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
								.addComponent(fontSizeBox, 0, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
								.addComponent(fontFamilyBox, 0, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
        );
	}

	private void lookAndFeel() {
		try {
			UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
		} catch (ClassNotFoundException | InstantiationException | IllegalAccessException
				| UnsupportedLookAndFeelException e) {
			e.printStackTrace();
		}
	}
    
	private static void setIcon() {
		String icon = "/main/icon/d.png";
		ImageIcon img = new ImageIcon(UserInterface.class.getResource(icon));
		f.setIconImage(img.getImage());
	}

	private void cancelAndSaveButtonSettings() {
		cancelButton.setLabel("Cancel");
        saveButton.setLabel("Save");
	}

	private void jLabelSettings() {
		jLabel1.setText("Font Size");
        jLabel2.setText("Font");
	}

	private void fontFamilyBoxSettings() {
		String[] fonts = GraphicsEnvironment.getLocalGraphicsEnvironment()
				.getAvailableFontFamilyNames();
		fontFamilyBox.setModel(new DefaultComboBoxModel<String>(fonts));
        fontFamilyBox.setSelectedItem(prop.read("fontFamily", fileName));
	}

	private void fontSizeBoxSettings() {
		fontSizeBox.setModel(new DefaultComboBoxModel<String>(new String[] { "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30" }));
        fontSizeBox.setSelectedItem(prop.read("fontSize", fileName));
	}

	private ButtonGroup radioButtonsSettings() {
		defaultRadioButton.setText("Default Colour");
        seaRadioButton.setText("Option 1");
        sunsetRadioButton.setText("Option 2");
        dawnRadioButton.setText("Option 3");
        natureRadioButton.setText("Option 4");
        
        ButtonGroup button = new ButtonGroup();
        button.add(defaultRadioButton);
        button.add(seaRadioButton);
        button.add(sunsetRadioButton);
        button.add(dawnRadioButton);
        button.add(natureRadioButton);
		return button;
	}

	private void radioButtonSelectionAndDisplayExample(ButtonGroup button) {
        String colorOption = properties.get(0);
		if (colorOption == null){
        	button.setSelected(defaultRadioButton.getModel(), true);
        	colors.defaultColor(textPane1, textPane2);
        } else if (colorOption.equals("default")){
        	button.setSelected(defaultRadioButton.getModel(), true);
        	colors.defaultColor(textPane1, textPane2);
        } else if (colorOption.equals("option1")){
        	button.setSelected(seaRadioButton.getModel(), true);
        	colors.optionOneColor(textPane1, textPane2);
        } else if (colorOption.equals("option2")) {
        	button.setSelected(sunsetRadioButton.getModel(), true);
        	colors.optionTwoColor(textPane1, textPane2);
        } else if (colorOption.equals("option3")) {
        	button.setSelected(dawnRadioButton.getModel(), true);
        	colors.optionThreeColor(textPane1, textPane2);
        } else if (colorOption.equals("option4")) {
        	button.setSelected(natureRadioButton.getModel(), true);
        	colors.optionFourColor(textPane1, textPane2);
        }
	}
}
```
###### W10-4J\UserInterface\UIController.java
``` java
 */
package UserInterface;

import java.awt.Font;
import java.awt.KeyEventDispatcher;
import java.awt.KeyboardFocusManager;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.KeyEvent;
import java.util.ArrayList;

import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.JTextPane;
import javax.swing.Timer;

import Parser.Parser;
import main.Constants;

public class UIController {

	private static ArrayList<String> commands = new ArrayList<String>();
	private static int commandIndex = commands.size();
	private static int scroll = 0;
	private static int minCommandIndex = 0;

	public void commandAction(Timer timer, String command, JButton overdue, JButton all, JButton done, JButton help,
			JButton settings, JButton home, JTextField cmdEntry, JTextArea cmdDisplay, JTextPane displayOutput,
			JLabel commandText) {
		Parser p = new Parser();
		if (command != null) {
			commandEnteredAction(timer, command, cmdEntry, cmdDisplay, displayOutput, p);
		} else {
			cmdEntryListener(timer, p, cmdEntry, cmdDisplay, displayOutput);
			settingsListener(timer, settings, cmdDisplay, displayOutput, commandText, cmdEntry, home, overdue, all, done, help);
			allListener(timer, all, p, displayOutput);
			doneListener(timer, done, p, displayOutput);
			helpListener(timer, help, p, displayOutput);
			homeListener(timer, home, p, displayOutput);
			overdueListener(timer, overdue, p, displayOutput);
		}
	}

	public void keyboardActions(JTextPane outputDisplay, JTextField cmdEntry, JScrollPane outputScrollpane) {
		KeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(new KeyEventDispatcher() {
			public boolean dispatchKeyEvent(KeyEvent e) {
				keyPressed(e, outputDisplay, cmdEntry, outputScrollpane);
				return false;
			}
		});
	}

	private void settingsListener(Timer timer, JButton settings, JTextArea cmdDisplay, JTextPane displayOutput, JLabel commandText,
			JTextField cmdEntry, JButton home, JButton overdue, JButton all, JButton done, JButton help) {
		settings.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				stopTimer(timer);
				new SettingsUI(displayOutput, cmdDisplay, commandText, cmdEntry, home, overdue, all, done, help, settings);
			}
		});
	}

	private void allListener(Timer timer, JButton all, Parser p, JTextPane displayOutput) {
		all.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				stopTimer(timer);
				String output = p.parse("display");
				printInDisplayOutput(displayOutput, output.substring(1));
				displayOutput.setCaretPosition(0);
			}
		});
	}

	private void doneListener(Timer timer, JButton done, Parser p, JTextPane displayOutput) {
		done.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				stopTimer(timer);
				String output = p.parse("display done");
				printInDisplayOutput(displayOutput, output.substring(1));
				displayOutput.setCaretPosition(0);
			}
		});
	}

	private void homeListener(Timer timer, JButton home, Parser p, JTextPane displayOutput) {
		home.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				stopTimer(timer);
				String todayTask = p.parse("display today").substring(1);
				printInDisplayOutput(displayOutput, todayTask);
				displayOutput.setCaretPosition(0);
			}
		});
	}

	private void helpListener(Timer timer, JButton help, Parser p, JTextPane displayOutput) {
		help.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				stopTimer(timer);
				String output = p.parse("help");
				printInDisplayOutput(displayOutput, output.substring(1));
				displayOutput.setCaretPosition(0);
			}
		});
	}

	private void overdueListener(Timer timer, JButton overdue, Parser p, JTextPane displayOutput) {
		overdue.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				stopTimer(timer);
				String output = p.parse("display overdue");
				printInDisplayOutput(displayOutput, output.substring(1));
				displayOutput.setCaretPosition(0);
			}
		});
	}

	private void cmdEntryListener(Timer timer, Parser p, JTextField cmdEntry, JTextArea cmdDisplay,
			JTextPane displayOutput) {
		cmdEntry.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				String s = cmdEntry.getText();
				commandEnteredAction(timer, s, cmdEntry, cmdDisplay, displayOutput, p);
			}
		});
	}

	private void commandEnteredAction(Timer timer, String command, JTextField cmdEntry, JTextArea cmdDisplay,
			JTextPane displayOutput, Parser p) {
		stopTimer(timer);
		cmdEntry.setText("");
		commands.add(command);
		commandIndex = commands.size();
		printInCommandDisplay(cmdDisplay, command);
		String output = p.parse(command);
		assert output != null;
		if (isDisplay(output)) {
			printInDisplayOutput(displayOutput, output.substring(1));
		} else {
			printInCommandDisplay(cmdDisplay, output.substring(1));
			printInDisplayOutput(displayOutput, p.parse("display").substring(1));
		}
		displayOutput.setCaretPosition(0);
	}
	
	private static void stopTimer(Timer timer){
		if (timer.isRunning()){
			timer.stop();
		}
	}

	private static boolean isInvalidMessages(String message) {
		return message.equals(Constants.MESSAGE_INVALID_DATE) || message.equals(Constants.MESSAGE_INVALID_FORMAT)
				|| message.equals(Constants.MESSAGE_INVALID_TIME)
				|| message.equals(Constants.MESSAGE_UNRECOGNISED_COMMAND)
				|| message.equals(Constants.MESSAGE_RECUR_FAIL);
	}

	public static boolean isDisplay(String s) {
		return s.substring(0, 1).equals("0");
	}

	private static void printInCommandDisplay(JTextArea cmdDisplay, String content) {
		cmdDisplay.append("> " + content + "\n");
	}

	private static void printInDisplayOutput(JTextPane displayOutput, String s) {
		displayOutput.setText(s);
	}

	private static void keyPressed(KeyEvent e, JTextPane outputDisplay, JTextField cmdEntry,
			JScrollPane outputScrollpane) {
		if (e.getID() == KeyEvent.KEY_PRESSED && e.isControlDown() && e.isShiftDown()
				&& (e.getKeyCode() == KeyEvent.VK_EQUALS)) {
			fontSizeChange(outputDisplay, "increase");
		} else if (e.getID() == KeyEvent.KEY_PRESSED && e.isControlDown() && e.isShiftDown()
				&& (e.getKeyCode() == KeyEvent.VK_MINUS)) {
			fontSizeChange(outputDisplay, "decrease");
		} else if (e.getID() == KeyEvent.KEY_PRESSED && e.getKeyCode() == KeyEvent.VK_DOWN) {
			arrowDownPreviousInput(cmdEntry);
		} else if (e.getID() == KeyEvent.KEY_PRESSED && e.getKeyCode() == KeyEvent.VK_UP) {
			arrowUpPreviousInput(cmdEntry);
		} else if (e.getID() == KeyEvent.KEY_PRESSED && e.getKeyCode() == KeyEvent.VK_PAGE_UP) {
			pageUpChange(outputScrollpane);
		} else if (e.getID() == KeyEvent.KEY_PRESSED && e.getKeyCode() == KeyEvent.VK_PAGE_DOWN) {
			pageDownChange(outputScrollpane);
		}
	}

	/* These are the set of boolean methods for keyboard shortcuts */
	private static boolean arrowDownTrue() {
		return commandIndex >= minCommandIndex && (commandIndex + 1) < commands.size();
	}

	private static boolean arrowUpTrue() {
		return (commandIndex) > minCommandIndex;
	}

	public static boolean pageUpTrue(int minScroll) {
		return scroll >= minScroll;
	}

	public static boolean pageDownTrue(int maxScroll) {
		return scroll <= maxScroll;
	}

	/* These are the set of implementation methods for the keyboard shortcuts */
	private static void fontSizeChange(JTextPane outputDisplay, String change) {
		int fontSize = outputDisplay.getFont().getSize();
		String fontName = outputDisplay.getFont().getFontName();
		int fontStyle = outputDisplay.getFont().getStyle();
		Font font;
		if (change.equals("increase")) {
			font = new Font(fontName, fontStyle, fontSize + 1);
		} else {
			font = new Font(fontName, fontStyle, fontSize - 1);
		}
		outputDisplay.setFont(font);
	}

	private static void arrowDownPreviousInput(JTextField cmdEntry) {
		if (arrowDownTrue()) {
			commandIndex += 1;
			cmdEntry.setText(commands.get(commandIndex));
		} else {
			cmdEntry.setText("");
		}
	}

	private static void arrowUpPreviousInput(JTextField cmdEntry) {
		if (commands.size() == 0) {
			cmdEntry.setText("");
		} else if (arrowUpTrue()) {
			commandIndex -= 1;
			cmdEntry.setText(commands.get(commandIndex));
		} else {
			cmdEntry.setText(commands.get(commandIndex));
		}
	}

	private static void pageUpChange(JScrollPane outputScrollpane) {
		int minScroll = 0;
		if (pageUpTrue(minScroll)) {
			scroll -= 200;
		} else {
			scroll = minScroll;
		}
		outputScrollpane.getVerticalScrollBar().setValue(scroll);
	}

	private static void pageDownChange(JScrollPane outputScrollpane) {
		int maxScroll = outputScrollpane.getVerticalScrollBar().getMaximum();
		if (pageDownTrue(maxScroll)) {
			scroll += 200;
		} else {
			scroll = maxScroll;
		}
		outputScrollpane.getVerticalScrollBar().setValue(scroll);
	}
}
```
###### W10-4J\UserInterface\UserInterface.java
``` java
 */
package UserInterface;

import java.awt.Color;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.FocusEvent;
import java.awt.event.FocusListener;
import java.util.ArrayList;
import java.util.Random;

import javax.swing.BorderFactory;
import javax.swing.GroupLayout;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.JTextPane;
import javax.swing.Timer;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;
import javax.swing.WindowConstants;

import Parser.Parser;


public class UserInterface{
	private static int topFontColorIndex = 1;
	private static int topBgIndex = 2;
	private static int bottomBgIndex = 3;
	private static int bottomFontColorIndex = 4;
	private static int fontSizeIndex = 5;
	private static int fontFamilyIndex = 6;
	private static int buttonColorIndex = 7;
	
	private static JFrame f = new JFrame("Docket");
	private static JScrollPane jScrollPane1 = new JScrollPane();
	private static JTextPane outputDisplay = new JTextPane();
	private static JButton homeButton = new JButton();
	private static JButton overdueButton = new JButton();
	private static JButton doneButton = new JButton();
	private static JButton allButton = new JButton();
	private static JButton helpButton = new JButton();
	private static JButton settingsButton = new JButton();
	private static JScrollPane jScrollPane2 = new JScrollPane();
	private static JTextArea cmdDisplay = new JTextArea();
	private static JTextField cmdEntry = new JTextField();
	private static JLabel commandText = new JLabel();
	
	private static Color placeholderForeground = new Color(160, 160, 160);
	
	private static String focusString = "";
	
	private static ColorsForSettings colors = new ColorsForSettings();
	
	private static ReadWriteXml prop = new ReadWriteXml();
	private static ArrayList<String> properties = prop.readToArrayList();
	private static String fontFamily = properties.get(fontFamilyIndex);
	private static String fontSize = properties.get(fontSizeIndex);
	private static String bottomBg = properties.get(bottomBgIndex);
	private static String topBg = properties.get(topBgIndex);
	private static String buttonColors = properties.get(buttonColorIndex);
	private static Font font;
	
	public static void main(String[] args){
		initComponents(null);
	}
	
	/* initComponents method is set to return a string array for JUnit testing purposes.*/
    public static String[] initComponents(String command){
    	Parser p = new Parser();
		UIController uiControl = new UIController();

		setIcon();
		commandTextSettings();
		cmdEntrySettings();
		textAreaSettings();
		textPaneSettings(outputDisplay);
		buttonSettings();
		setWelcomeMessage(outputDisplay);
		Timer timer = setTodayTaskMessage(p);

        f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);

        jScrollPane1.setViewportView(outputDisplay);
        jScrollPane2.setViewportView(cmdDisplay);

        setLayoutForUI();
		
    	uiControl.keyboardActions(outputDisplay, cmdEntry, jScrollPane1);

        uiControl.commandAction(timer, command, overdueButton, allButton, doneButton, helpButton, settingsButton, homeButton, cmdEntry, cmdDisplay, outputDisplay, commandText);
        
		lookAndFeel();
		f.pack();
		f.setVisible(true);
        return returnOutput();
    }
    
	private static void setLayoutForUI() {
		int maxWidth = (int)overdueButton.getMaximumSize().getWidth();
		GroupLayout layout = new GroupLayout(f.getContentPane());
        f.getContentPane().setLayout(layout);
        setHoriGroup(maxWidth, layout);
        setVertiGroup(layout);
	}

	private static void setVertiGroup(GroupLayout layout) {
		layout.setVerticalGroup(
            layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING, true)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(homeButton, GroupLayout.PREFERRED_SIZE, 50, Short.MAX_VALUE)
                        .addComponent(doneButton, GroupLayout.PREFERRED_SIZE, 50, Short.MAX_VALUE)
                        .addComponent(overdueButton, GroupLayout.PREFERRED_SIZE, 50, Short.MAX_VALUE)
                        .addComponent(allButton, GroupLayout.PREFERRED_SIZE, 50, Short.MAX_VALUE)
                        .addComponent(helpButton, GroupLayout.PREFERRED_SIZE, 50, Short.MAX_VALUE)
                        .addComponent(settingsButton, GroupLayout.PREFERRED_SIZE, 50, Short.MAX_VALUE))
                    .addComponent(jScrollPane1, GroupLayout.DEFAULT_SIZE, 500, Short.MAX_VALUE))
                .addComponent(jScrollPane2, GroupLayout.PREFERRED_SIZE, 80, GroupLayout.PREFERRED_SIZE)
                .addGroup(layout.createParallelGroup()
                		.addComponent(commandText, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                		.addComponent(cmdEntry, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)))
        );
	}

	private static void setHoriGroup(int maxWidth, GroupLayout layout) {
		layout.setHorizontalGroup(
            layout.createParallelGroup(GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING, true)
                    .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                        .addComponent(homeButton, GroupLayout.DEFAULT_SIZE, 50, maxWidth)
                        .addComponent(overdueButton, GroupLayout.Alignment.TRAILING, GroupLayout.PREFERRED_SIZE, 50, maxWidth)
                        .addComponent(doneButton, GroupLayout.Alignment.TRAILING, GroupLayout.PREFERRED_SIZE, 50, maxWidth)
                        .addComponent(allButton, GroupLayout.Alignment.TRAILING, GroupLayout.PREFERRED_SIZE, 50, maxWidth)
                        .addComponent(helpButton, GroupLayout.Alignment.TRAILING, GroupLayout.PREFERRED_SIZE, 50, maxWidth)
                        .addComponent(settingsButton, GroupLayout.DEFAULT_SIZE, 50, maxWidth)))
                .addComponent(jScrollPane1, GroupLayout.PREFERRED_SIZE, 600, Short.MAX_VALUE))
            .addGroup(layout.createSequentialGroup()
            		.addComponent(jScrollPane2, GroupLayout.DEFAULT_SIZE, 600, Short.MAX_VALUE))
            .addGroup(layout.createSequentialGroup()
            		.addComponent(commandText)
            		.addComponent(cmdEntry))
        );
	}
	
	private static void lookAndFeel() {
		try {
			UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
		} catch (ClassNotFoundException | InstantiationException | IllegalAccessException
				| UnsupportedLookAndFeelException e) {
			e.printStackTrace();
		}
	}
    
	private static void setIcon() {
		String icon = "/main/icon/d.png";
		ImageIcon img = new ImageIcon(UserInterface.class.getResource(icon));
		f.setIconImage(img.getImage());
	}
	
	private static void commandTextSettings(){
		commandText.setText(" Command: ");
		if (fontFamily == null || fontSize == null){
			font = commandText.getFont();
		} else {
			int fontStyle = commandText.getFont().getStyle();
			font = new Font(fontFamily, fontStyle, Integer.valueOf(fontSize));
		}
		commandText.setOpaque(true);
        commandText.setBackground(Color.WHITE);
		commandText.setFont(font);
        commandText.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 0, Color.WHITE));
		
	}
	
	private static void cmdEntrySettings(){
		int fontStyle = cmdEntry.getFont().getStyle();
		if (fontFamily == null || fontSize == null){
			font = new Font(Font.MONOSPACED, Font.BOLD, 12);
		} else {
			font = new Font(fontFamily, fontStyle, Integer.valueOf(fontSize));
		}
		cmdEntry.setFont(font);
        cmdEntry.setBorder(BorderFactory.createMatteBorder(1, 0, 1, 1, Color.WHITE));
		setPlaceholderFontColor();
		placeholder();
	}
	
    private static void textAreaSettings(){
    	cmdDisplay.setColumns(20);
    	cmdDisplay.setLineWrap(true);
    	cmdDisplay.setWrapStyleWord(true);
    	cmdDisplay.setEditable(false);
    	cmdDisplay.setFocusable(false);
		// If the background color obtained from the xml file is null, then default colors are used.
    	if (bottomBg == null){
    		cmdDisplay.setBackground(Color.BLACK);
    		cmdDisplay.setForeground(Color.WHITE);
        	cmdDisplay.setFont(new Font(Font.MONOSPACED, Font.BOLD, 12));
    	} else {
    		cmdDisplay.setBackground(colors.rgbColor(bottomBg));
    		cmdDisplay.setForeground(colors.rgbColor(properties.get(bottomFontColorIndex)));
    		String fontFamily = cmdDisplay.getFont().getName();
    		int fontStyle = cmdDisplay.getFont().getStyle();
    		int fontSize = Integer.valueOf(properties.get(fontSizeIndex));
    		font = new Font(fontFamily, fontStyle, fontSize);
    		cmdDisplay.setFont(font);
    	}
    }
	
	private static void placeholder(){
        cmdEntry.addFocusListener(new FocusListener() {
            @Override
            public void focusGained(FocusEvent e) {
                if (cmdEntry.getText().trim().length() != 0) {
                	setOriginalColor();
                }
                cmdEntry.setText(focusString);
 
            }
            @Override
            public void focusLost(FocusEvent e) {
                if (cmdEntry.getText().trim().length() == 0) {
                	setPlaceholderFontColor();
                	focusString = "";
                } else {
                	focusString = cmdEntry.getText();
                }
            }
        });
	}
	
	private static void setPlaceholderFontColor(){
		cmdEntry.setForeground(placeholderForeground);
		cmdEntry.setText("Enter commands here");
	}
	
	private static void setOriginalColor(){
		cmdEntry.setForeground(Color.BLACK);
        cmdEntry.setText("");
	}
    
    private static void textPaneSettings(JTextPane outputDisplay){
    	outputDisplay.setEditable(false);
    	outputDisplay.setFocusable(false);
		// If the background color obtained from the xml file is null, then default colors are used.
    	if (topBg == null){
    		outputDisplay.setBackground(Color.WHITE);
    		outputDisplay.setForeground(Color.BLACK);
    	} else {
    		outputDisplay.setBackground(colors.rgbColor(topBg));
    		outputDisplay.setForeground(colors.rgbColor(properties.get(topFontColorIndex)));
    		int fontStyle = outputDisplay.getFont().getStyle();
    		int fontSize = Integer.valueOf(properties.get(fontSizeIndex));
    		font = new Font(fontFamily, fontStyle, fontSize);
    		outputDisplay.setFont(font);
    	}
    	outputDisplay.setContentType("text/html");
		outputDisplay.putClientProperty(JTextPane.HONOR_DISPLAY_PROPERTIES, true);
    }
    
    private static void buttonSettings(){
    	setToolTipForButtons();
		setIconsForButtons();
		//homeButton.setBorderPainted(false);
		//homeButton.setBorder(BorderFactory.createCompoundBorder());
		//overdueButton.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createLineBorder(Color.WHITE, 10), BorderFactory.createLineBorder(Color.BLACK)));
		homeButton.setFocusable(false);
		overdueButton.setFocusable(false);
		doneButton.setFocusable(false);
		allButton.setFocusable(false);
		helpButton.setFocusable(false);
		settingsButton.setFocusable(false);
    	if (buttonColors == null){
    		homeButton.setBackground(Color.gray);
    		overdueButton.setBackground(Color.gray);
    		doneButton.setBackground(Color.gray);
    		allButton.setBackground(Color.gray);
    		helpButton.setBackground(Color.gray);
    		settingsButton.setBackground(Color.gray);
    	} else {
    		homeButton.setBackground(colors.rgbColor(buttonColors));
    		overdueButton.setBackground(colors.rgbColor(buttonColors));
    		doneButton.setBackground(colors.rgbColor(buttonColors));
    		allButton.setBackground(colors.rgbColor(buttonColors));
    		helpButton.setBackground(colors.rgbColor(buttonColors));
    		settingsButton.setBackground(colors.rgbColor(buttonColors));
    	}
    }

	private static void setIconsForButtons() {
		getAndSetIconsForButtons("/main/icon/home.png", homeButton);
		getAndSetIconsForButtons("/main/icon/overdue.png", overdueButton);
		getAndSetIconsForButtons("/main/icon/done.png", doneButton);
		getAndSetIconsForButtons("/main/icon/all.png", allButton);
		getAndSetIconsForButtons("/main/icon/help.png", helpButton);
		getAndSetIconsForButtons("/main/icon/settings.png", settingsButton);
	}
	
	private static void getAndSetIconsForButtons(String path, JButton button){
		ImageIcon homeImg = new ImageIcon(UserInterface.class.getResource(path));
		button.setIcon(homeImg);
	}

	private static void setToolTipForButtons() {
		homeButton.setToolTipText("Home");
    	overdueButton.setToolTipText("Overdue Tasks");
    	doneButton.setToolTipText("Done Tasks");
    	allButton.setToolTipText("All Tasks");
    	helpButton.setToolTipText("Help");
    	settingsButton.setToolTipText("Gui Preferences");
	}
    
    private static void setWelcomeMessage(JTextPane outputDisplay){
    	String display = welcomeMessage();
    	outputDisplay.setText(display);
    }

	private static String welcomeMessage() {
		String display = "<center style=\"font-size:24px\"><b>Welcome to Docket! </b></center><br> "
    			+ "<center>To start, enter a task in the command field below.</center><br>"
    			+ "<center>For help, enter <b>help</b> in the command field below.</center><br>";
    	int tipsSize = tipMessage().size();
    	Random rand = new Random();
    	int randomNum = rand.nextInt(tipsSize);
    	display += "<center style=\"font-size:18px\"><b>Tips</b></center><br><center>" + tipMessage().get(randomNum) + "</center>";
		return display;
	}
    
    private static ArrayList<String> tipMessage(){
    	ArrayList<String> tips = new ArrayList<String>();
    	tips.add("Use Ctrl + Shift + \"+\" or Ctrl + Shift + \"-\" to increase or decrease font size");
    	tips.add("Use Arrow Up or Arrow Down key to scroll through previous commands entered");
    	tips.add("Use PgUp or PgDown key to scroll through this display output");
    	tips.add("You can save your task file in any folder using <b> set directory</b> command");
    	tips.add("You can get <b>help</b> for specific commands by entering <b>help</b> &#60command&#62");
    	tips.add("Enter <b>display</b> to view your tasks");
    	tips.add("Natural Language is supported in Docket. See Natural Commands section of help for more info");
    	return tips;
    }
	
	private static String displayToday(Parser p){
		return p.parse("display today").substring(1);
	}
	
	public static Timer setTodayTaskMessage(Parser p) {
        Timer timer = new Timer(3000, new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent ae) {
                outputDisplay.setText(displayToday(p));
                outputDisplay.repaint();
            }
        });
        timer.setRepeats(false);
        timer.setCoalesce(true);
        timer.start();
        return timer;
    }
    
    private static String[] returnOutput(){
    	String[] output = new String[2];
    	output[0] = outputDisplay.getText();
    	output[1] = cmdDisplay.getText();
    	return output;
    }
}
```
