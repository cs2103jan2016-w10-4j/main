# A0149174Y
###### W10-4J\Handler\ArraylistStorage.java
``` java
	private boolean taskSearchNameAndDetails(Task eachTask, String[] task) {
		assert eachTask.getName() != null : Constants.ASSERT_TASKNAME_EXISTENCE;
		assert eachTask.getDetails() != null : Constants.ASSERT_TASKDETAILS_EXISTENCE;
		boolean searchStringFound = false;
		String[] splitName = eachTask.getName().toLowerCase().split("\\s+");
		String[] splitDetails = eachTask.getDetails().toLowerCase().split("\\s+");
		searchStringFound = searchInName(task, searchStringFound, splitName);
		searchStringFound = searchInDetails(task, searchStringFound, splitDetails);
		return searchStringFound;
	}

	private boolean searchInName(String[] task, boolean searchStringFound, String[] splitName) {
		for (int i = 0; i < splitName.length; i++) {
			searchStringFound = checkSplitStringForAMatch(task, searchStringFound, splitName, i);
		}
		return searchStringFound;
	}

	private boolean searchInDetails(String[] task, boolean searchStringFound, String[] splitDetails) {
		for (int i = 0; i < splitDetails.length; i++) {
			searchStringFound = checkSplitStringForAMatch(task, searchStringFound, splitDetails, i);
		}
		return searchStringFound;
	}

	private boolean taskSearchName(Task eachTask, String[] task) {
		assert eachTask.getName() != null : Constants.ASSERT_TASKNAME_EXISTENCE;
		boolean searchStringFound = false;
		String[] splitName = eachTask.getName().toLowerCase().split("\\s+");
		searchStringFound = searchInName(task, searchStringFound, splitName);
		return searchStringFound;
	}

	private boolean checkSplitStringForAMatch(String[] task, boolean searchStringFound, String[] split, int i) {
		if (split[i].startsWith(task[0].trim().toLowerCase())) {
			searchStringFound = true;
		}
		return searchStringFound;
	}

```
###### W10-4J\Handler\Command.java
``` java
package Handler;

import Handler.HandlerMemory.COMMAND_STATE;
import main.Task;

public interface Command {
	
	String execute(String[] task);
```
###### W10-4J\Handler\Handler.java
``` java
	public String executeCommand(COMMAND_TYPE command, String[] task) {
		try {
			Command cmd = getCommand(command, task);
			return cmd.execute(task);
		} catch (IllegalArgumentException invalidCommandFormat) {
			LOGGER.log(Level.WARNING, Constants.MESSAGE_INVALID_FORMAT);
			return Constants.MESSAGE_INVALID_FORMAT;
		} catch (IllegalStateException unrecognizedCommand) {
			LOGGER.log(Level.WARNING, Constants.MESSAGE_UNRECOGNISED_COMMAND);
			return Constants.MESSAGE_UNRECOGNISED_COMMAND;
		}
	}

	private Command getCommand(COMMAND_TYPE command, String[] task)
			throws IllegalArgumentException, IllegalStateException {
		switch (command) {
		case ADD:
			return addTask;
		case EDIT:
			return editTask;
		case DELETE:
			return deleteTask;
		case DONE:
			return doneTask;
		case DISPLAY:
			return displayTask;
		case SEARCH:
			return searchTask;
		case SETDIR:
			return setDirTask;
		case RETRIEVE:
			return retrieveTask;
		case RECURRENCE:
			return recurrTask;
		case UNDO:
			return undoTask;
		case HELP:
			return helpTask;
		case EXIT:
			System.exit(0);
		case INVALID:
			throw new IllegalArgumentException();
		default:
			throw new IllegalStateException();
		}
	}
```
###### W10-4J\test\AddTest.java
``` java
public class AddTest {
	private ArraylistStorage arraylistStorage = new ArraylistStorage();
	private Add addTask = new Add(arraylistStorage);

	@Test
	public void test() {
		
		String task1[]={"test1","2016/03/22","09:00","21:00","None"};
		String task2[]={"test2","2016/02/23","00:00","10:00","None"};
				
				// test the delete method
				assertEquals(String.format(Constants.MESSAGE_ADD_PASS,"test1"), addTask.execute(task1));
				assertEquals(String.format(Constants.MESSAGE_ADD_PASS,"test2"), addTask.execute(task2));
				assertEquals("test2",arraylistStorage.getNotDoneStorage().get(arraylistStorage.getNotDoneStorage().size()-1).getName());
				assertEquals("test1",arraylistStorage.getNotDoneStorage().get(arraylistStorage.getNotDoneStorage().size()-2).getName());

	}

}
```
###### W10-4J\test\DoneTest.java
``` java
public class DoneTest {

	private ArraylistStorage arraylistStorage = new ArraylistStorage();
	private Add addTask = new Add(arraylistStorage);
	private Done doneTask = new Done(arraylistStorage);
	
	@Test
	public void test() {
		String task1[]={"test1","2016/03/22","09:00","21:00","None"};
		String task2[]={"test2","2016/02/23","00:00","10:00","None"};
		addTask.execute(task1);
		addTask.execute(task2);
		String doneTask1[]={"1"};
		assertEquals(String.format(Constants.MESSAGE_DONE_PASS, "test1"),doneTask.execute(doneTask1));
		assertTrue(arraylistStorage.getDoneStorage().get(0).getName()=="test1");
		assertTrue(arraylistStorage.getNotDoneStorage().get(0).getName()=="test2");
	}

}
```
###### W10-4J\test\SystemTest.java
``` java
public class SystemTest {

	// @Test
	// public void testRobot() {
	// String[] output;
	// String userInput;
	//
	// userInput = "setdir C:\\";
	// output = UserInterface.initComponents(userInput);
	//
	// userInput = "";
	// output = UserInterface.initComponents(userInput);
	//
	// System.out.println(output[0]);
	// System.out.println(output[1]);
	//
	// }

	@Before
	public void Before() {
		try {
			File f = new File("mytextfile.txt");
			f.delete();
			f = new File("a.txt");
			f.delete();
		} catch (Exception e) {
		}
	}

	@After
	public void After() {
		try {
			File f = new File("mytextfile.txt");
			f.delete();
			f = new File("a.txt");
			f.delete();
		} catch (Exception e) {
		}
	}

	@Test
	public void test1() throws InterruptedException {
		String userInput;
		String[] output;

		userInput = "setdir a.txt";
		output = UserInterface.initComponents(userInput);
		assertEquals(output[0],
				"<html>\n  <head>\n    <style type=\"text/css\">\n      <!--\n        #underline { border-bottom-color: black; border-bottom-style: solid; border-bottom-width: 3px }\n      -->\n    </style>\n    \n  </head>\n  <body>\n    <h1>\n      <b>No tasks on hand!</b>\n    </h1>\n  </body>\n</html>\n");
		assertEquals(output[1], "> setdir a.txt\n> Set directory successful.\n");
		Thread.sleep(350);

		userInput = "add a";
		output = UserInterface.initComponents(userInput);
		assertEquals(output[0],
				"<html>\n  <head>\n    \n  </head>\n  <body>\n    <table id=\"underline\">\n      <tr>\n        <th>\n          Floating Tasks\n        </th>\n      </tr>\n    </table>\n    <table width=\"100%\" style=\"margin-bottom: 10px\">\n      <tr style=\"border-bottom-color: #B6B6B4; border-bottom-style: solid; border-bottom-width: 1px\">\n        <th style=\"width: 3%\">\n          \n        </th>\n        <th align=\"left\" style=\"width: 20%\">\n          <h2>\n            <b>Event </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Start Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>End Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 25%\">\n          <h2>\n            <b>Details </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Repeat </b>\n          </h2>\n        </th>\n        </ltr>\n        \n      </tr>\n      <tr bgcolor=\"#FFFF00\" style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#000000\">1)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#000000\">a</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          \n        </td>\n      </tr>\n    </table>\n  </body>\n</html>\n");
		assertEquals(output[1], "> add a\n> a has been added.\n");
		Thread.sleep(350);

		userInput = "add V0.44 today 8am tmr 7pm week";
		output = UserInterface.initComponents(userInput);
		assertEquals(output[0],
				"<html>\n  <head>\n    \n  </head>\n  <body>\n    <table id=\"underline\">\n      <tr>\n        <th>\n          Today, 2016/04/11\n        </th>\n      </tr>\n    </table>\n    <table width=\"100%\" style=\"margin-bottom: 10px\">\n      <tr style=\"border-bottom-color: #B6B6B4; border-bottom-style: solid; border-bottom-width: 1px\">\n        <th style=\"width: 3%\">\n          \n        </th>\n        <th align=\"left\" style=\"width: 20%\">\n          <h2>\n            <b>Event </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Start Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>End Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 25%\">\n          <h2>\n            <b>Details </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Repeat </b>\n          </h2>\n        </th>\n        </ltr>\n        \n      </tr>\n      <tr bgcolor=\"#FFFF00\" style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#0000FF\">1)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#0000FF\">V0.44</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">08:00</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">-</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          <font color=\"#0000FF\">Every Week</font>\n        </td>\n      </tr>\n    </table>\n    <table id=\"underline\">\n      <tr>\n        <th>\n          Tomorrow, 2016/04/12\n        </th>\n      </tr>\n    </table>\n    <table width=\"100%\" style=\"margin-bottom: 10px\">\n      <tr style=\"border-bottom-color: #B6B6B4; border-bottom-style: solid; border-bottom-width: 1px\">\n        <th style=\"width: 3%\">\n          \n        </th>\n        <th align=\"left\" style=\"width: 20%\">\n          <h2>\n            <b>Event </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Start Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>End Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 25%\">\n          <h2>\n            <b>Details </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Repeat </b>\n          </h2>\n        </th>\n        </ltr>\n        \n      </tr>\n      <tr bgcolor=\"#FFFF00\" style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#0000FF\">1)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#0000FF\">V0.44</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">-</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">19:00</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          <font color=\"#0000FF\">Every Week</font>\n        </td>\n      </tr>\n    </table>\n    <table id=\"underline\">\n      <tr>\n        <th>\n          Floating Tasks\n        </th>\n      </tr>\n    </table>\n    <table width=\"100%\" style=\"margin-bottom: 10px\">\n      <tr style=\"border-bottom-color: #B6B6B4; border-bottom-style: solid; border-bottom-width: 1px\">\n        <th style=\"width: 3%\">\n          \n        </th>\n        <th align=\"left\" style=\"width: 20%\">\n          <h2>\n            <b>Event </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Start Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>End Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 25%\">\n          <h2>\n            <b>Details </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Repeat </b>\n          </h2>\n        </th>\n        </ltr>\n        \n      </tr>\n      <tr style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#000000\">2)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#000000\">a</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          \n        </td>\n      </tr>\n    </table>\n  </body>\n</html>\n");
		assertEquals(output[1],
				"> add V0.44 today 8am tmr 7pm week\n> V0.44 has been added.\n");
		Thread.sleep(350);

		userInput = "adder";
		output = UserInterface.initComponents(userInput);
		// assertEquals(output[0],"");
		assertEquals(output[1],
				"> adder\n> Unrecognized command type\n");
		Thread.sleep(350);

		userInput = "delete 10";
		output = UserInterface.initComponents(userInput);
		// assertEquals(output[0],"");
		assertEquals(output[1],
				"> delete 10\n> Task cannot be deleted.\n");
		Thread.sleep(350);

		userInput = "delete 1";
		output = UserInterface.initComponents(userInput);
		assertEquals(output[0],
				"<html>\n  <head>\n    \n  </head>\n  <body>\n    <table id=\"underline\">\n      <tr>\n        <th>\n          Today, 2016/04/11\n        </th>\n      </tr>\n    </table>\n    <table width=\"100%\" style=\"margin-bottom: 10px\">\n      <tr style=\"border-bottom-color: #B6B6B4; border-bottom-style: solid; border-bottom-width: 1px\">\n        <th style=\"width: 3%\">\n          \n        </th>\n        <th align=\"left\" style=\"width: 20%\">\n          <h2>\n            <b>Event </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Start Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>End Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 25%\">\n          <h2>\n            <b>Details </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Repeat </b>\n          </h2>\n        </th>\n        </ltr>\n        \n      </tr>\n      <tr style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#0000FF\">1)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#0000FF\">V0.44</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">08:00</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">-</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          <font color=\"#0000FF\">Every Week</font>\n        </td>\n      </tr>\n    </table>\n    <table id=\"underline\">\n      <tr>\n        <th>\n          Tomorrow, 2016/04/12\n        </th>\n      </tr>\n    </table>\n    <table width=\"100%\" style=\"margin-bottom: 10px\">\n      <tr style=\"border-bottom-color: #B6B6B4; border-bottom-style: solid; border-bottom-width: 1px\">\n        <th style=\"width: 3%\">\n          \n        </th>\n        <th align=\"left\" style=\"width: 20%\">\n          <h2>\n            <b>Event </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Start Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>End Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 25%\">\n          <h2>\n            <b>Details </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Repeat </b>\n          </h2>\n        </th>\n        </ltr>\n        \n      </tr>\n      <tr style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#0000FF\">1)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#0000FF\">V0.44</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">-</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">19:00</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          <font color=\"#0000FF\">Every Week</font>\n        </td>\n      </tr>\n    </table>\n  </body>\n</html>\n");
		assertEquals(output[1],
				"> delete 1\n> a has been deleted.\n");
		Thread.sleep(350);

		userInput = "add V0.5 Manual date 11.04.2016 endtime 23:59";
		output = UserInterface.initComponents(userInput);
		assertEquals(output[0],
				"<html>\n  <head>\n    \n  </head>\n  <body>\n    <table id=\"underline\">\n      <tr>\n        <th>\n          Today, 2016/04/11\n        </th>\n      </tr>\n    </table>\n    <table width=\"100%\" style=\"margin-bottom: 10px\">\n      <tr style=\"border-bottom-color: #B6B6B4; border-bottom-style: solid; border-bottom-width: 1px\">\n        <th style=\"width: 3%\">\n          \n        </th>\n        <th align=\"left\" style=\"width: 20%\">\n          <h2>\n            <b>Event </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Start Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>End Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 25%\">\n          <h2>\n            <b>Details </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Repeat </b>\n          </h2>\n        </th>\n        </ltr>\n        \n      </tr>\n      <tr style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#0000FF\">1)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#0000FF\">V0.44</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">08:00</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">-</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          <font color=\"#0000FF\">Every Week</font>\n        </td>\n      </tr>\n      <tr bgcolor=\"#FFFF00\" style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#000000\">2)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#000000\">V0.5 Manual</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          <font color=\"#000000\">23:59</font>\n        </td>\n        <td>\n          \n        </td>\n      </tr>\n    </table>\n    <table id=\"underline\">\n      <tr>\n        <th>\n          Tomorrow, 2016/04/12\n        </th>\n      </tr>\n    </table>\n    <table width=\"100%\" style=\"margin-bottom: 10px\">\n      <tr style=\"border-bottom-color: #B6B6B4; border-bottom-style: solid; border-bottom-width: 1px\">\n        <th style=\"width: 3%\">\n          \n        </th>\n        <th align=\"left\" style=\"width: 20%\">\n          <h2>\n            <b>Event </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Start Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>End Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 25%\">\n          <h2>\n            <b>Details </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Repeat </b>\n          </h2>\n        </th>\n        </ltr>\n        \n      </tr>\n      <tr style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#0000FF\">1)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#0000FF\">V0.44</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">-</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">19:00</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          <font color=\"#0000FF\">Every Week</font>\n        </td>\n      </tr>\n    </table>\n  </body>\n</html>\n");
		assertEquals(output[1],
				"> add V0.5 Manual date 11.04.2016 endtime 23:59\n> V0.5 Manual has been added.\n");

		userInput = "add V0.5 Demo date 13.04.2016 starttime 10";
		output = UserInterface.initComponents(userInput);
		assertEquals(output[0],
				"<html>\n  <head>\n    \n  </head>\n  <body>\n    <table id=\"underline\">\n      <tr>\n        <th>\n          Today, 2016/04/11\n        </th>\n      </tr>\n    </table>\n    <table width=\"100%\" style=\"margin-bottom: 10px\">\n      <tr style=\"border-bottom-color: #B6B6B4; border-bottom-style: solid; border-bottom-width: 1px\">\n        <th style=\"width: 3%\">\n          \n        </th>\n        <th align=\"left\" style=\"width: 20%\">\n          <h2>\n            <b>Event </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Start Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>End Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 25%\">\n          <h2>\n            <b>Details </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Repeat </b>\n          </h2>\n        </th>\n        </ltr>\n        \n      </tr>\n      <tr style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#0000FF\">1)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#0000FF\">V0.44</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">08:00</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">-</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          <font color=\"#0000FF\">Every Week</font>\n        </td>\n      </tr>\n      <tr style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#000000\">2)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#000000\">V0.5 Manual</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          <font color=\"#000000\">23:59</font>\n        </td>\n        <td>\n          \n        </td>\n      </tr>\n    </table>\n    <table id=\"underline\">\n      <tr>\n        <th>\n          Tomorrow, 2016/04/12\n        </th>\n      </tr>\n    </table>\n    <table width=\"100%\" style=\"margin-bottom: 10px\">\n      <tr style=\"border-bottom-color: #B6B6B4; border-bottom-style: solid; border-bottom-width: 1px\">\n        <th style=\"width: 3%\">\n          \n        </th>\n        <th align=\"left\" style=\"width: 20%\">\n          <h2>\n            <b>Event </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Start Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>End Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 25%\">\n          <h2>\n            <b>Details </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Repeat </b>\n          </h2>\n        </th>\n        </ltr>\n        \n      </tr>\n      <tr style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#0000FF\">1)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#0000FF\">V0.44</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">-</font>\n        </td>\n        <td>\n          <font color=\"#0000FF\">19:00</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          <font color=\"#0000FF\">Every Week</font>\n        </td>\n      </tr>\n    </table>\n    <table id=\"underline\">\n      <tr>\n        <th>\n          Wednesday, 2016/04/13\n        </th>\n      </tr>\n    </table>\n    <table width=\"100%\" style=\"margin-bottom: 10px\">\n      <tr style=\"border-bottom-color: #B6B6B4; border-bottom-style: solid; border-bottom-width: 1px\">\n        <th style=\"width: 3%\">\n          \n        </th>\n        <th align=\"left\" style=\"width: 20%\">\n          <h2>\n            <b>Event </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Start Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>End Time </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 25%\">\n          <h2>\n            <b>Details </b>\n          </h2>\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          <h2>\n            <b>Repeat </b>\n          </h2>\n        </th>\n        </ltr>\n        \n      </tr>\n      <tr bgcolor=\"#FFFF00\" style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#000000\">3)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#000000\">V0.5 Demo</font>\n        </td>\n        <td>\n          <font color=\"#000000\">10:00</font>\n        </td>\n        <td>\n          \n        </td>\n      </tr>\n    </table>\n  </body>\n</html>\n");
		assertEquals(output[1],
				"> add V0.5 Demo date 13.04.2016 starttime 10\n> V0.5 Demo has been added.\n");

		userInput = "search v";
		output = UserInterface.initComponents(userInput);
		assertEquals(output[0],
				"<html>\n  <head>\n    \n  </head>\n  <body>\n    <table width=\"100%\" style=\"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px\">\n      <tr style=\"border-bottom-color: #B6B6B4; border-bottom-style: solid; border-bottom-width: 1px\">\n        <th style=\"width: 3%\">\n          \n        </th>\n        <th align=\"left\" style=\"width: 20%\">\n          Event\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          Start Date\n        </th>\n        <th align=\"left\" style=\"width: 15%\">\n          End Date\n        </th>\n        <th align=\"left\" style=\"width: 12%\">\n          Start Time\n        </th>\n        <th align=\"left\" style=\"width: 12%\">\n          End Time\n        </th>\n        <th align=\"left\" style=\"width: 25%\">\n          Details\n        </th>\n        <th align=\"left\" style=\"width: 13%\">\n          Repeat\n        </th>\n      </tr>\n      <tr style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#000000\">1)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#000000\">V0.44</font>\n        </td>\n        <td>\n          <font color=\"#000000\">2016/04/11</font>\n        </td>\n        <td>\n          <font color=\"#000000\">2016/04/12</font>\n        </td>\n        <td>\n          <font color=\"#000000\">08:00</font>\n        </td>\n        <td>\n          <font color=\"#000000\">19:00</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          <font color=\"#000000\">Every Week</font>\n        </td>\n      </tr>\n      <tr style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#000000\">2)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#000000\">V0.5 Manual</font>\n        </td>\n        <td>\n          <font color=\"#000000\">2016/04/11</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          \n        </td>\n        <td>\n          <font color=\"#000000\">23:59</font>\n        </td>\n        <td>\n          \n        </td>\n      </tr>\n      <tr style=\"border-bottom-color: #E5E4E2; border-bottom-style: solid; border-bottom-width: 1px\">\n        <td align=\"right\">\n          <h3>\n            <font color=\"#000000\">3)</font>\n          </h3>\n        </td>\n        <td>\n          <font color=\"#000000\">V0.5 Demo</font>\n        </td>\n        <td>\n          <font color=\"#000000\">2016/04/13</font>\n        </td>\n        <td>\n          \n        </td>\n        <td>\n          <font color=\"#000000\">10:00</font>\n        </td>\n        <td>\n          \n        </td>\n      </tr>\n    </table>\n  </body>\n</html>\n");
		assertEquals(output[1],
				"> search v\n");

		// userInput = "search demo";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "add overdue task date 11.04.2015";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "display overdue";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "done 1";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "display done";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "display today";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "display";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "edit";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "edit 2 details wear smart casual";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "undo";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "help";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "alias add a";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "a check mail repeat day";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "setdir D:\\";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "get C:\\dirdefaultfile.txt";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);
		//
		// userInput = "ls";
		// output = UserInterface.initComponents(userInput);
		// // assertEquals(output[0],);
		// // assertEquals(output[1],);

	}
}
```
###### W10-4J\test\UndoTest.java
``` java
public class UndoTest {

	private ArraylistStorage arraylistStorage = new ArraylistStorage();
	private Add addTask = new Add(arraylistStorage);
	private Undo undoTask;
	
	@Test
	public void test() {
		String task1[]={"test1","2016/03/22","09:00","21:00","None"};
		String task2[]={"test2","2016/02/23","00:00","10:00","None"};
		addTask.execute(task1);
		assertEquals("test1",arraylistStorage.getPreviousInputStorage().get(0).getTask().getName());
		assertEquals("add",arraylistStorage.getPreviousInputStorage().get(0).getAction());
		addTask.execute(task2);
		assertEquals("test2",arraylistStorage.getPreviousInputStorage().get(0).getTask().getName());
		assertEquals("add",arraylistStorage.getPreviousInputStorage().get(0).getAction());
		
		// test undo
		undoTask = new Undo(arraylistStorage);
		assertEquals(Constants.MESSAGE_UNDO_PASS,undoTask.execute(null));
		assertTrue(arraylistStorage.getNotDoneStorage().get(arraylistStorage.getNotDoneStorage().size()-1).getName()!="test2");
		assertTrue(arraylistStorage.getNotDoneStorage().get(arraylistStorage.getNotDoneStorage().size()-1).getName()=="test1");
	}
}
```
